/*! Stick8 - v1.0.0
 * http://www.codeandbeauty.com/stick8
 * Copyright (c) 2017; * Licensed GPLv2+ */
!function(a,b){"function"==typeof define&&define.amd?define(["jQuery"],b):"object"==typeof module&&module.exports?module.exports=b(jQuery):a.Stick8=b(jQuery)}(this,function(a){"use strict";var b,c;return b={div:!1,divData:!1,parentData:!1,maxTop:0,defaults:{top:0,parent:!1,minWidth:0,selector:".flb-box"},init:function(b,c){c=a.extend({},this.defaults,c),c.parent&&(this.parent=a(c.parent)),this.box=b,this.options=c,this.initBox(),a(window).on("resize",a.proxy(this.reInitBox,this))},reInitBox:function(){var a,b;a=this,this.div&&(this.div.remove(),this.div=!1),this.show(),b=setInterval(function(){clearInterval(b),a.initBox()},300)},initBox:function(){var b;b=this.getViewPort(),this.options.minWidth&&b.width<=this.options.minWidth||(this.createDiv(),a(window).on("scroll",a.proxy(this.stickOnScroll,this)))},getData:function(a){var b;return b=a.offset(),{width:a.outerWidth(),height:a.outerHeight(),top:b.top,left:b.left}},getViewPort:function(){var b,c,d;return b=a("<div>"),b.css({position:"fixed",top:0,left:0,width:"100%",height:"100%",padding:0,margin:0}),b.appendTo("body"),c=b.width(),d=b.height(),b.remove(),{width:c,height:d}},createDiv:function(){if(!this.div){var b,c,d;b=a("<div>"),d=this.getData(this.box),b.addClass("__flb-container"),b.css({position:"fixed",width:d.width,top:d.top+"px",left:d.left+"px"}),c=this.box.clone(!0),this.hide(),c.appendTo(b),b.appendTo("body"),this.div=b,this.divData=d,this.parent&&(this.parentData=this.getData(this.parent),this.maxTop=this.parentData.top+this.parentData.height,this.maxTop-=parseInt(d.height)),this.options.onCreate&&this.options.onCreate.call(null,this),this.stickOnScroll()}},hide:function(){this.box.css("visibility","hidden")},show:function(){this.box.css("visibility","visible")},stickOnScroll:function(){var b,c,d,e,f;if(b=a(window).scrollTop(),c=this.divData.top,e=parseInt(this.options.top),this.options.top&&(d=parseInt(this.options.top)-b,d<=0&&(c=this.divData.top-b),c<=e&&(c=e)),this.parent){f=b+(this.options.top?e:this.divData.top),b+(this.options.top?e:this.divData.top),f>=this.maxTop&&(c-=f-this.maxTop)}this.div.css("top",c+"px"),this.options.onScroll&&this.options.onScroll.call(null,this)}},c=function(c){var d,e,f;return d=a(c.selector?c.selector:".flb-box"),f=a.extend({},b),e=setInterval(function(){"complete"===document.readyState&&(clearInterval(e),f.init(d,c))},100),f},a.fn.Stick8=function(b){return b=b||{},a(this).each(function(){b.selector=this,this.stick8=new c(b)}),this},function(b){return b=b||{},b.selector||(b.selector=".flb-box"),a(b.selector).Stick8(b)}});